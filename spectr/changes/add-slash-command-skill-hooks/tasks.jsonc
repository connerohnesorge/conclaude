// Spectr Tasks File (JSONC)
//
// This file contains machine-readable task definitions for a Spectr change.
// JSONC format allows comments while maintaining JSON compatibility.
//
// Status Values:
//   - "pending"     : Task has not been started yet
//   - "in_progress" : Task is currently being worked on
//   - "completed"   : Task has been finished and verified
//
// Status Transitions:
//   pending -> in_progress -> completed
//
//   Tasks should only move forward through these states.
//   Do not skip states or move backward.
//
// Workflow:
//   1. BEFORE starting work on a task, mark it as "in_progress"
//   2. Complete the implementation for the task
//   3. Verify the work is correct and complete
//   4. IMMEDIATELY mark the task as "completed" after verification
//   5. Move to the next task and repeat
//
// IMPORTANT - Update Status Immediately:
//   - Update each task's status IMMEDIATELY after it transitions
//   - Do NOT batch status updates at the end of all work
//   - Do NOT wait until all tasks are done to update statuses
//   - This file should reflect accurate progress at any point in time
//   - Using a single edit to mark a task completed AND the next task
//     in_progress is allowed (this is a single transition, not batching)
//
// Note: This file is auto-generated by 'spectr accept'. Manual edits to
// task status are expected, but structure changes may be overwritten.
//

{
  "version": 1,
  "tasks": [
    {
      "id": "1.1",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `PreToolUse` hook command",
      "status": "completed"
    },
    {
      "id": "1.2",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `PostToolUse` hook command",
      "status": "completed"
    },
    {
      "id": "1.3",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `Stop` hook command",
      "status": "completed"
    },
    {
      "id": "1.4",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `SessionStart` hook command",
      "status": "completed"
    },
    {
      "id": "1.5",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `SessionEnd` hook command",
      "status": "completed"
    },
    {
      "id": "1.6",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `UserPromptSubmit` hook command",
      "status": "completed"
    },
    {
      "id": "1.7",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `Notification` hook command",
      "status": "completed"
    },
    {
      "id": "1.8",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `SubagentStart` hook command",
      "status": "completed"
    },
    {
      "id": "1.9",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `SubagentStop` hook command",
      "status": "completed"
    },
    {
      "id": "1.10",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `PreCompact` hook command",
      "status": "completed"
    },
    {
      "id": "1.11",
      "section": "CLI Flag Implementation",
      "description": "Add `--skill` flag to `PermissionRequest` hook command",
      "status": "completed"
    },
    {
      "id": "1.12",
      "section": "CLI Flag Implementation",
      "description": "Add `CONCLAUDE_SKILL` environment variable handling (similar to `CONCLAUDE_AGENT`)",
      "status": "completed"
    },
    {
      "id": "2.1",
      "section": "Hook Injection for Commands and Skills",
      "description": "Create `discover_command_files()` function (similar to `discover_agent_files()`)",
      "status": "completed"
    },
    {
      "id": "2.2",
      "section": "Hook Injection for Commands and Skills",
      "description": "Create `discover_skill_files()` function (similar to `discover_agent_files()`)",
      "status": "completed"
    },
    {
      "id": "2.3",
      "section": "Hook Injection for Commands and Skills",
      "description": "Create `generate_skill_hooks()` function (similar to `generate_agent_hooks()`)",
      "status": "completed"
    },
    {
      "id": "2.4",
      "section": "Hook Injection for Commands and Skills",
      "description": "Create `inject_skill_hooks_into_file()` function (similar to `inject_agent_hooks_into_file()`)",
      "status": "completed"
    },
    {
      "id": "2.5",
      "section": "Hook Injection for Commands and Skills",
      "description": "Create `inject_skill_hooks()` function for batch injection",
      "status": "completed"
    },
    {
      "id": "2.6",
      "section": "Hook Injection for Commands and Skills",
      "description": "Integrate command/skill hook injection into `handle_init()`",
      "status": "completed"
    },
    {
      "id": "2.7",
      "section": "Hook Injection for Commands and Skills",
      "description": "Add user feedback messages for command/skill discovery",
      "status": "completed"
    },
    {
      "id": "2.8",
      "section": "Hook Injection for Commands and Skills",
      "description": "Support `--force` flag for re-injection",
      "status": "completed"
    },
    {
      "id": "3.1",
      "section": "Configuration Schema Updates",
      "description": "Add `skill` field to `UnEditableFileRule` type",
      "status": "completed"
    },
    {
      "id": "3.2",
      "section": "Configuration Schema Updates",
      "description": "Add `skill` field to `ToolUsageRule` type",
      "status": "completed"
    },
    {
      "id": "3.3",
      "section": "Configuration Schema Updates",
      "description": "Add `skill` field to `StopCommand` type",
      "status": "completed"
    },
    {
      "id": "3.4",
      "section": "Configuration Schema Updates",
      "description": "Add `skill` field to `SubagentStopCommand` type (if applicable)",
      "status": "completed"
    },
    {
      "id": "3.5",
      "section": "Configuration Schema Updates",
      "description": "Add `matches_skill_pattern()` helper function (similar to `matches_agent_pattern()`)",
      "status": "completed"
    },
    {
      "id": "3.6",
      "section": "Configuration Schema Updates",
      "description": "Update field name lists in error suggestion system",
      "status": "completed"
    },
    {
      "id": "4.1",
      "section": "Hook Processing Updates",
      "description": "Read `CONCLAUDE_SKILL` environment variable in hook handlers",
      "status": "completed"
    },
    {
      "id": "4.2",
      "section": "Hook Processing Updates",
      "description": "Add skill context logging",
      "status": "completed"
    },
    {
      "id": "4.3",
      "section": "Hook Processing Updates",
      "description": "Update rule matching to check skill patterns",
      "status": "completed"
    },
    {
      "id": "4.4",
      "section": "Hook Processing Updates",
      "description": "Add skill information to notification messages",
      "status": "completed"
    },
    {
      "id": "4.5",
      "section": "Hook Processing Updates",
      "description": "Update PreToolUse handler to check skill-specific rules",
      "status": "completed"
    },
    {
      "id": "4.6",
      "section": "Hook Processing Updates",
      "description": "Update Stop handler to execute skill-specific commands",
      "status": "completed"
    },
    {
      "id": "5.1",
      "section": "Default Configuration Updates",
      "description": "Add commented examples for skill-specific rules in `src/default-config.yaml`",
      "status": "completed"
    },
    {
      "id": "5.2",
      "section": "Default Configuration Updates",
      "description": "Document `CONCLAUDE_SKILL` environment variable",
      "status": "completed"
    },
    {
      "id": "5.3",
      "section": "Default Configuration Updates",
      "description": "Add skill pattern matching examples",
      "status": "completed"
    },
    {
      "id": "6.1",
      "section": "Schema Generation",
      "description": "Update `src/schema.rs` to include skill fields",
      "status": "completed"
    },
    {
      "id": "6.2",
      "section": "Schema Generation",
      "description": "Run schema generation to update `conclaude-schema.json`",
      "status": "completed"
    },
    {
      "id": "7.1",
      "section": "Documentation",
      "description": "Update README.md with slash command/skill hook information",
      "status": "completed"
    },
    {
      "id": "7.2",
      "section": "Documentation",
      "description": "Document `--skill` flag usage",
      "status": "completed"
    },
    {
      "id": "7.3",
      "section": "Documentation",
      "description": "Add examples of skill-specific configuration",
      "status": "completed"
    },
    {
      "id": "7.4",
      "section": "Documentation",
      "description": "Document `CONCLAUDE_SKILL` environment variable",
      "status": "completed"
    },
    {
      "id": "8.1",
      "section": "Testing",
      "description": "Add unit tests for `discover_command_files()`",
      "status": "completed"
    },
    {
      "id": "8.2",
      "section": "Testing",
      "description": "Add unit tests for `discover_skill_files()`",
      "status": "completed"
    },
    {
      "id": "8.3",
      "section": "Testing",
      "description": "Add unit tests for `generate_skill_hooks()`",
      "status": "completed"
    },
    {
      "id": "8.4",
      "section": "Testing",
      "description": "Add unit tests for `matches_skill_pattern()`",
      "status": "completed"
    },
    {
      "id": "8.5",
      "section": "Testing",
      "description": "Add unit tests for skill field in configuration parsing",
      "status": "completed"
    },
    {
      "id": "8.6",
      "section": "Testing",
      "description": "Add integration test for command file hook injection",
      "status": "completed"
    },
    {
      "id": "8.7",
      "section": "Testing",
      "description": "Add integration test for skill file hook injection",
      "status": "completed"
    },
    {
      "id": "8.8",
      "section": "Testing",
      "description": "Add tests for skill-specific rule matching",
      "status": "completed"
    },
    {
      "id": "8.9",
      "section": "Testing",
      "description": "Verify backward compatibility with existing agent hooks",
      "status": "completed"
    },
    {
      "id": "9.1",
      "section": "Finalization",
      "description": "Run `cargo clippy` and fix warnings",
      "status": "completed"
    },
    {
      "id": "9.2",
      "section": "Finalization",
      "description": "Run `cargo fmt` to format code",
      "status": "completed"
    },
    {
      "id": "9.3",
      "section": "Finalization",
      "description": "Run `cargo test` to verify all tests pass",
      "status": "completed"
    },
    {
      "id": "9.4",
      "section": "Finalization",
      "description": "Test `conclaude init` with sample command/skill files",
      "status": "completed"
    },
    {
      "id": "9.5",
      "section": "Finalization",
      "description": "Validate schema with example configurations",
      "status": "completed"
    },
    {
      "id": "9.6",
      "section": "Finalization",
      "description": "Run `spectr validate add-slash-command-skill-hooks`",
      "status": "completed"
    }
  ]
}
